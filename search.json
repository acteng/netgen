[{"path":"https://acteng.github.io/netgen/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 netgen authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://acteng.github.io/netgen/articles/schoolroutes.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"SchoolRoutes: An approach for data-driven investment in safe routes to school","text":"outlines methods preliminary findings SchoolRoutes project. See project charter full description project’s aims, objectives, scope. large growing body evidence relationships active travel, physical activity, positive environmental, economic, social health outcomes. Research supporting Propensity Cycle Tool (PCT) project, based 2010/2011 English travel school data, number trips mode origin-destination level, example found substantial unmet potential cycling school. Based data Netherlands considering English trip distances hills, 22-fold increase found possible Go Dutch scenario, associated 57% increase physical activity pupils state run primary secondary schools Goodman et al. (2019). PCT — associated website provides data downloads evidence map-based web application hosted www.pct.bike — widely used local authorities stakeholders, several reasons revisit issue mode shift potential travel school, specific question active travel potential, now: School catchments travel patterns changed substantially since 2010/2011 data Goodman et al. (2019) based. recent travel data can overcome major limitation study presenting current transport patterns school. travel school layer PCT described Goodman et al. (2019) provided single metric segments road network: cycling potential (range scenarios), without reference key infrastructure datasets vital prioritising local interventions identifying ‘pinch points’ network. pandemic subsequent restrictions linked alarming increase childhood obesity rates inequalities, shown Figure 1. pushed active travel kids political agenda. travel school layer original PCT resulted sparse network places. can overcome using new methods disaggregating OD pairs show diffuse residential networks (Lovelace, Félix, Carlino 2022). Perhaps importantly, evidence presented PCT omitted potential walking school, likely important shorter trips younger children, especially near term. policy side, part UK Government’s Health Mission, health wellbeing young people risen political agenda. ‘School Streets’ interventions featured prominently rounds Active Travel Fund (ATF) bids, yet lack evidence support safe routes school located. broadly, strategic active travel networks already largely designed, part LCWIP process, cost-effective interventions fix ‘weak links’ quiet/beginner networks received less attention. Childhood obesity rates least deprived areas time. Source: National Child Measurement Programme. Objectives outlined project charter, project aims : Generate estimates active travel potential school travel, based separate uptake functions walking cycling. Use ‘jittering’, described academic paper (Lovelace et al. 2022), create realistic distribution school route starting points within LSOAs, generating dense networks connecting residential origins schools. Use 2023 origin-destination data DfE, describing number children English LSOA travelling school England. Update cycling walking uptake scenarios reflect ATE targets long-term aspirations. Include route segment information cycle friendliness traffic. Furthermore, project provide basis modelling active travel can applied trip purposes, part Active Travel Uptake Model (ATUM) project 2023. ATUM aims replace PCT, building Network Planning Tool Scotland (NPT).","code":""},{"path":"https://acteng.github.io/netgen/articles/schoolroutes.html","id":"data-and-methods","dir":"Articles","previous_headings":"","what":"Data and methods","title":"SchoolRoutes: An approach for data-driven investment in safe routes to school","text":"approach outlined paper uses following datasets: Origin-destination (OD) data travel school Department Education (DfE) Lower Super Output Area (LSOA) schools (non-sensitive simulated OD datasets used open access version paper). Data state-run schools, including locations, type (primarily primary, secondary), characteristics, Get Information Schools (GIAS) service. OpenStreetMap (OSM) data road network, value-added routing software od2net pre-process data generate route networks. Elevation data, enabling hilliness factored walking cycling potential estimates. Datasets Modeshift Stars programme, provides data number trips school mode sample schools England (currently used). methodological limitation PCT approach used zone centroids trip origins, can lead sparse ‘spider’s web’ routes reflect actual routes taken children school, rather dense networks needed (see example case study section ). overcome , approach taken paper disaggregate OD data, modelling multiple origins ‘subpoints’ within zone, better represent geographic distribution trips school. OD pair, number trips walked cycled estimated based route characteristics. walking, proportion trips can walked (pwalkp_{\\text{walk}}) modelled simple exponential decay function distance, parameters specifying rate decay (exponent) maximum proportion trips can walked, building work (Iacono, Krizek, El-Geneidy 2010): pwalk=min(exp(−distance×exponent),upper_limit) p_{\\text{walk}} = min(\\exp(-\\text{distance} \\times \\text{exponent}), \\text{upper\\_limit}) cycling, proportion trips can cycled based Go Dutch scenario Propensity Cycle Tool (PCT) project (Goodman et al. 2019). uptake functions illustrated figures . Uptake functions walking school, distance, baseline Go Active scenarios. Uptake functions cycling school, distance () hilliness (), baseline Go Dutch scenarios. figures show proportion trips made walking cycling OD pair depends function distance walking, function trip distance hilliness cycling. important apply function route distance hilliness rather Euclidean distance, actual distance travelled can much longer Euclidean distance, especially areas complex road networks hilly terrain. calculating proportion trips walked cycled per route, proportion multiplied estimated total number trips modes estimate number trips walked cycled along route. route-level counts aggregated process can referred “travel flow aggregation” (Morgan Lovelace 2020).","code":""},{"path":"https://acteng.github.io/netgen/articles/schoolroutes.html","id":"case-study-york","dir":"Articles","previous_headings":"","what":"Case study: York","title":"SchoolRoutes: An approach for data-driven investment in safe routes to school","text":"approach uses od2net tool, developed Dustin Carlino secondment ATE Alan Turing Institute. raw outputs can visualised web app hosted od2net.org, resulting interactive map routes, shown Figure . od2net web application useful gaining quick insight results, rather unrefined adapted needs transport planning. suggests need presenting results alternative way, example Scheme Browser tool hosted  plan.activetravelengland.gov.uk. Routes generated SchoolRoutes project. useful feature route network level data outputs can imported visualised local area using commonly available data science tools QGIS, Python R. figure highlights showing routes generated SchoolRoutes project within 1 km Stratford Way, next Huntingdon School, colours representing selected variables. Routes generated SchoolRoutes project, colours representing selected variables. output variables provided segment, presented figure , level relevant : count: number trips route segment. lts: level traffic stress (LTS) route segment. osm_tags: OpenStreetMap tags route segment, example surface quality, whether segment lit, maximum speed limit (quality/coverage tags varies region depending OSM community). way: unique identifier route segment, can used link datasets OSM, enabling people view update data.   output dataset can visualised well-known data science tools, illustrated figure . figure shows routes highest number trips Government Target cycling uptake scenario (left), represents doubling number trips made cycling school (Goodman et al. 2019). approach can used estimate walking school potential, based -mode flows school contained OD data. results walking cycling surrounding Stratford Way shown figure . Routes generated SchoolRoutes project walking cycling, colours representing level traffic stress (LTS) line width representing number trips, Government Target cycling Go Active walking. Note results walking show number trips generally higher cycling close school, move away, relative number cycling trips increases. highlights fact cycle networks around schools need longer walking networks.","code":""},{"path":"https://acteng.github.io/netgen/articles/schoolroutes.html","id":"prioritising-investment-with-schoolroutes-evidence","dir":"Articles","previous_headings":"Case study: York","what":"Prioritising investment with SchoolRoutes evidence","title":"SchoolRoutes: An approach for data-driven investment in safe routes to school","text":"simple way prioritise investment based route network outputs shown find LTS3 LTS4 roads greatest potential. key output tool route network data contains potential number trips LTS classification road segment. Taking hypothetical scenario sufficient funding investment 5 school streets, targetting worst (LTS3 LTS4) roads York, data allows us identify roads presented  Table Figure . Top 5 routes highest number trips Government Target scenario. Top 5 routes highest potential distance cycled day travel school Government Target scenario. Combined local knowledge sources data, information road widths traffic speeds volumes, consultation local residents schools, SchoolRoutes evidence can used inform investment decisions. results also help prioritise list schemes already pipeline, Huntingdon Road, example, highlighted key route investment York according results.","code":""},{"path":"https://acteng.github.io/netgen/articles/schoolroutes.html","id":"sense-checking-outputs","dir":"Articles","previous_headings":"Case study: York","what":"Sense checking outputs","title":"SchoolRoutes: An approach for data-driven investment in safe routes to school","text":"results synthetic data sense-checked comparing total number trips distance travelled represented OD dataset output model. Assuming ‘trip diversion factor’ (meaning distance travelled network compared straight line distance) 1.4 average 60% trips made cycling Go Dutch scenario short distances travelled school, can estimate total number distance travelled bike school typical school day 38,431 km. equivalent route network output Go Dutch scenario 55,836 km. Note values presented based synthetic OD data, may representative actual travel patterns York. Let’s compare number cycle less ambitious Government Target scenario: total distance travelled Government Target scenario 4,612 km. numbers make sense align well peer-reviewed results Propensity Cycle Tool project, shown figure . visual approach quality assurance compare results Propensity Cycle Tool school travel outputs, available York, illustrated . Comparison Propensity Cycle Tool school travel (top) SchoolRoutes (bottom) outputs York. Note differences results, SchoolRoutes outputs presented based synthetic OD data. Despite , sets results highlight roads, results scale, good sign SchoolRoutes outputs plausible. clear SchoolRoutes outputs figure (bottom), networks generates much denser: roads around school highlighted, rather just key routes PCT.","code":""},{"path":"https://acteng.github.io/netgen/articles/schoolroutes.html","id":"conclusions-and-next-steps","dir":"Articles","previous_headings":"","what":"Conclusions and next steps","title":"SchoolRoutes: An approach for data-driven investment in safe routes to school","text":"report outlined new approach estimating potential active travel school, based disaggregated OD data route network outputs, building going beyond Propensity Cycle Tool project (Goodman et al. 2019). Due high computational efficiency od2net tool, resulted grant funding agreement allowing Alan Turing Institute develop tool, approach can applied local authority England, potentially beyond, estimate potential active travel school. deploy project scale substantial amount work , including following (estimates days work): Detailed quantitative comparison results Propensity Cycle Tool outputs (5-10 days) Validating results ground truth data single local authority (5 days) Refining parameters walking uptake (potentially cycling uptake) functions (5-30 days) Integration ModeShift Stars data Census data generate better baseline data (10-30 days) Inclusion gradient data, gradient included walking cycling routes uptake model currently (5-20 days) Sense-checking results based local knowledge input inspectors /local authority staff , optionally, collaborating partners gain feedback improve approach based feedback (5-30 days) Running tool every local authority England (10-20 days) Development front-end tools visualising results (5-50 days depending level sophistication) Presenting results stakeholders workshops (5 days) Writing case studies use tool collaboration local authorities (10 days) Training local authority staff use tool (5-20 days) Integration browse tool atip codebase, (see plan.activetravelengland.gov.uk) (10 days) Writing results peer-reviewed journal article (10 days) total, project require around 100-250 days work, depending project’s ambition scope. may worth chunking project 2 distinct phases, e.g. pilot handful local authorities (e.g. 20 days’ work), followed full rollout local authorities England. potential substantial impact active travel school England, provide foundation next-generation strategic active travel network planning tool going beyond now-outdated Propensity Cycle Tool, project well worth pursuing.","code":""},{"path":[]},{"path":"https://acteng.github.io/netgen/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Robin Lovelace. Author, maintainer. Sam Holder. Author.           Active Travel England Emma Vinter. Author.           Active Travel England Chris Conlan. Author.           Active Travel England Alan Turing Institute Dustin Carlino. Author.           Active Travel England Alan Turing Institute Active Travel England. Funder.","code":""},{"path":"https://acteng.github.io/netgen/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lovelace R, Holder S, Vinter E, Conlan C, Carlino D (2024). netgen: Generate Route Network Datasets Origin-Destination Data. R package version 0.0.0.9000https://acteng.github.io/netgen/ https://github.com/acteng/netgen, https://acteng.github.io/netgen/ https://github.com/acteng/netgen.","code":"@Manual{,   title = {netgen: Generate Route Network Datasets from Origin-Destination Data},   author = {Robin Lovelace and Sam Holder and Emma Vinter and Chris Conlan and Dustin Carlino},   year = {2024},   note = {R package version 0.0.0.9000https://acteng.github.io/netgen/ https://github.com/acteng/netgen},   url = {https://acteng.github.io/netgen/ https://github.com/acteng/netgen}, }"},{"path":"https://acteng.github.io/netgen/index.html","id":"generate-origin-destination-data-for-route-network-generation","dir":"","previous_headings":"","what":"Generate Route Network Datasets from Origin-Destination Data","title":"Generate Route Network Datasets from Origin-Destination Data","text":"input network generation approaches demonstrated repo origin-destionation data. many sources OD data, see documentation odgen.qmd way generate synthetic OD data ’ll use reproducible code .","code":""},{"path":"https://acteng.github.io/netgen/index.html","id":"setup","dir":"","previous_headings":"","what":"Setup","title":"Generate Route Network Datasets from Origin-Destination Data","text":"reproduducibility, setup Docker container dependencies needed run code . easiest way run code develop new code repo may GitHub Codespaces can accessed via github.com/codespaces/new. Pull latest version container following: open project .devcontainer.json file Visual Studio Code (see VS Code docs ). allow run code README following command: haven’t got project running container, can run code local environment. run code need R Docker installed. installed R, can install packages ’ll use follows: also install couple package CRAN: getting software installed, load packages ’ll use follows:","code":"docker pull ghcr.io/geocompx/docker:rust quarto::quarto_render(\"README.qmd\") # Install pak if not already installed: if (!requireNamespace(\"pak\", quietly = TRUE)) {   install.packages(\"pak\") } pkgs = c(\"sf\", \"tidyverse\", \"tmap\", \"pak\") pkgs_to_install = pkgs[!pkgs %in% installed.packages()] if (length(pkgs_to_install) > 0) {   pak::pkg_install(pkgs_to_install) } # Load the packages with vapply: vapply(pkgs, require, logical(1), character.only = TRUE) sf tidyverse      tmap       pak       TRUE      TRUE      TRUE      TRUE pak::pkg_install(\"acteng/netgen\") pak::pkg_install(\"Urban-Analytics-Technology-Platform/od2net/r\") library(sf) library(tidyverse) library(tmap) # # Get the datasets, see: https://github.com/acteng/netgen/releases/tag/v0.1.0 # Automate data download if you have gh installed and authorised with: # theme void: theme_set(theme_void())"},{"path":"https://acteng.github.io/netgen/index.html","id":"data-import-and-visualisation","dir":"","previous_headings":"","what":"Data import and visualisation","title":"Generate Route Network Datasets from Origin-Destination Data","text":"’s worth importing visualising OD datasets routing network generation stages.","code":"system(\"gh release list\") system(\"gh release download v0.1.0\") od = read_csv(\"res_output.csv\") head(od) # A tibble: 6 × 3   O              D trips_modelled   <chr>      <dbl>          <dbl> 1 E01013335 121266          6.37  2 E01013336 121266          3.26  3 E01013337 121266          4.57  4 E01013338 121266          6.46  5 E01013339 121266          2.95  6 E01013340 121266          0.124 od_geo = sf::read_sf(\"res_output.geojson\") od_geo |>   ggplot() +   geom_sf(aes(alpha = trips_modelled))"},{"path":"https://acteng.github.io/netgen/index.html","id":"od2net","dir":"","previous_headings":"","what":"od2net","title":"Generate Route Network Datasets from Origin-Destination Data","text":"Building code od2net R package, can generate files needed network generation stage. installed package, prepare input datasets run network-generation code generate output.geojson output.pmtiles outputs: install od2net package, run following: running code container, already od2net package installed. Check following: config file follows: run following code generate network: See run Docker ’re running commands .devcontainer don’t od2net installed. Run tool Docker follows: see following output folder: point can visualise pmtiles website od2net.org front-end application, shown .","code":"origin_zones = netgen::zones_york names(origin_zones) [1] \"LSOA21CD\"     \"LSOA21NM\"     \"total\"        \"f0_to_15\"     \"f16_to_29\"     [6] \"f30_to_44\"    \"f45_to_64\"    \"f65_and_over\" \"m0_to_15\"     \"m16_to_29\"    [11] \"m30_to_44\"    \"m45_to_64\"    \"m65_and_over\" \"geometry\" names(origin_zones)[1] = \"name\" sf::write_sf(origin_zones, \"input/zones_york.geojson\", delete_dsn = TRUE) od2net::make_osm(zones_file = \"input/zones_york.geojson\") Reading layer `zones' from data source    `/home/robin/github/acteng/netgen/input/zones.geojson' using driver `GeoJSON' Simple feature collection with 121 features and 13 fields Geometry type: MULTIPOLYGON Dimension:     XY Bounding box:  xmin: -1.2237 ymin: 53.87459 xmax: -0.9196789 ymax: 54.05661 Geodetic CRS:  WGS 84 od2net::make_origins() # Optionally, get elevation data: # netgen:::make_elevation() destinations = netgen::destinations_york # Provided in the R package names(destinations)[1] = \"name\" destinations = destinations[1] class(destinations$name) = \"character\" sf::write_sf(destinations, \"input/destinations.geojson\", delete_dsn = TRUE) # Save the OD dataset: od = od_geo |>   sf::st_drop_geometry() |>   transmute(from = O, to = as.character(D), count = round(trips_modelled)) readr::write_csv(od, \"input/od.csv\", quote = \"all\") cargo install --locked --git https://github.com/Urban-Analytics-Technology-Platform/od2net system(\"od2net --version\") readLines(\"config.json\") |> cat(sep = \"\\n\") {   \"requests\": {     \"description\": \"Test data for SchoolRoutes project.\",     \"pattern\": {       \"ZoneToPoint\": {         \"zones_path\": \"zones.geojson\",         \"destinations_path\": \"destinations.geojson\",         \"csv_path\": \"od.csv\",          \"origin_zone_centroid_fallback\": false       }     },     \"origins_path\": \"buildings.geojson\",     \"destinations_path\": \"destinations.geojson\"   },   \"cost\": \"Distance\",   \"uptake\": \"Identity\",   \"lts\": \"BikeOttawa\" } system(\"od2net config.json --rng-seed 42\") # On Linux: sudo docker run -v $(pwd):/app ghcr.io/urban-analytics-technology-platform/od2net:main /app/config.json  --rng-seed 42 # On Windows: docker run -v %cd%:/app ghcr.io/urban-analytics-technology-platform/od2net:main /app/config.json  --rng-seed 42 fs::dir_tree(\"output\") output └── rnet_output_osrm_overline.geojson"},{"path":"https://acteng.github.io/netgen/index.html","id":"minimal-od2net-example","dir":"","previous_headings":"","what":"Minimal od2net example","title":"Generate Route Network Datasets from Origin-Destination Data","text":"purposes testing ’s worth","code":""},{"path":"https://acteng.github.io/netgen/index.html","id":"adjusting-uptake-functions","dir":"","previous_headings":"","what":"Adjusting uptake functions","title":"Generate Route Network Datasets from Origin-Destination Data","text":"example visualises trips school, just active travel trips.","code":""},{"path":"https://acteng.github.io/netgen/index.html","id":"other-approaches-to-network-generation","dir":"","previous_headings":"","what":"Other approaches to network generation","title":"Generate Route Network Datasets from Origin-Destination Data","text":"advantage od2net can generate network routes single step. approaches, need calculate routes first, shown .","code":""},{"path":"https://acteng.github.io/netgen/index.html","id":"routing","dir":"","previous_headings":"","what":"Routing","title":"Generate Route Network Datasets from Origin-Destination Data","text":"many ways calculate routes. simplest many cases calculate routing engine. Let’s interfaces OSRM routing engine first instance. Note: use od2net approach, can routing network generation stage single step, see .","code":""},{"path":"https://acteng.github.io/netgen/index.html","id":"osrm-basic","dir":"","previous_headings":"","what":"OSRM: basic","title":"Generate Route Network Datasets from Origin-Destination Data","text":"","code":"od_geo_top_100 = od_geo |>   slice_max(trips_modelled, n = 100) routes_osrm_minimal = stplanr::route(   l = od_geo_top_100,   route_fun = stplanr::route_osrm,   osrm.profile = \"foot\" ) routes_osrm_minimal |>   ggplot() +   geom_sf(alpha = 0.3, size = 9)"},{"path":"https://acteng.github.io/netgen/index.html","id":"locally-hosted-osrm","dir":"","previous_headings":"","what":"Locally hosted OSRM","title":"Generate Route Network Datasets from Origin-Destination Data","text":"can spin-local OSRM server calculate routes follows: system shell: generate something like: Note process used 532934656 bytes (532.9 MB) RAM. : Check alive follows: Now can run routes: Let’s visualise routes:","code":"location = osmextract::oe_match(   od_geo_top_100 |> sf::st_union() ) osmextract::oe_download(     location$url,     file_basename = \"osm.pbf\",     download_directory = \".\" ) docker run -t -v \"${PWD}:/data\" ghcr.io/project-osrm/osrm-backend osrm-extract -p /opt/car.lua /data/geofabrik_osm.pbf || echo \"osrm-extract failed\" docker run -t -v \"${PWD}:/data\" ghcr.io/project-osrm/osrm-backend osrm-extract -p /opt/car.lua /data/geofrabik_osm.osm.pbf || echo \"osrm-extract failed\" [2024-08-27T15:00:31.786775132] [info] Expansion: 766813 nodes/sec and 382310 edges/sec [2024-08-27T15:00:31.786776903] [info] To prepare the data for routing, run: ./osrm-contract \"/data/geofabrik_osm\" [2024-08-27T15:00:31.836550204] [info] RAM: peak bytes used: 532934656 docker run -t -v \"${PWD}:/data\" ghcr.io/project-osrm/osrm-backend osrm-partition /data/geofabrik_osm.osrm || echo \"osrm-partition failed\" docker run -t -v \"${PWD}:/data\" ghcr.io/project-osrm/osrm-backend osrm-customize /data/geofabrik_osm.osrm || echo \"osrm-customize failed\" docker run -t -i -p 5000:5000 -v \"${PWD}:/data\" ghcr.io/project-osrm/osrm-backend osrm-routed --algorithm mld /data/geofabrik_osm system('curl \"http://127.0.0.1:5000/route/v1/driving/13.388860,52.517037;13.385983,52.496891?steps=true\"') routes_osrm_2 = stplanr::route(   l = od_geo,   route_fun = stplanr::route_osrm,   osrm.profile = \"foot\",   osrm.server = \"http://127.0.0.1:5000/\" ) sf::write_sf(routes_osrm_2, \"routes_osrm_2.geojson\", delete_dsn = TRUE)  system(\"gh release upload v0.1.0 routes_osrm_2.geojson\") routes_osrm_2 |>   ggplot() +   geom_sf(alpha = 0.3, size = 9)"},{"path":[]},{"path":"https://acteng.github.io/netgen/index.html","id":"overline","dir":"","previous_headings":"","what":"Overline","title":"Generate Route Network Datasets from Origin-Destination Data","text":"overline() function R package stplanr one way generate route networks: disadvantage approach ’s computational resource-intensive takes long time. -progress od2net.","code":"names(routes_osrm_2) rnet = stplanr::overline(routes_osrm_2, attrib = \"trips_modelled\") plot(rnet)"},{"path":[]},{"path":"https://acteng.github.io/netgen/reference/destinations_york.html","id":null,"dir":"Reference","previous_headings":"","what":"Example destinations dataset: schools in York — destinations_york","title":"Example destinations dataset: schools in York — destinations_york","text":"Example dataset York, UK","code":""},{"path":"https://acteng.github.io/netgen/reference/destinations_york.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Example destinations dataset: schools in York — destinations_york","text":"See data-raw/zones_york.qmd details data source.","code":""},{"path":"https://acteng.github.io/netgen/reference/destinations_york.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example destinations dataset: schools in York — destinations_york","text":"","code":"head(destinations_york) #> Simple feature collection with 6 features and 4 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -1.12961 ymin: 53.9411 xmax: -1.075572 ymax: 53.97109 #> Geodetic CRS:  WGS 84 #> # A tibble: 6 × 5 #>      URN n_pupils phase          type_of_establishment             geometry #>    <dbl>    <dbl> <chr>          <chr>                          <POINT [°]> #> 1 121266       71 Nursery        Local authority nurs…  (-1.12961 53.96336) #> 2 121270      160 Not applicable Pupil referral unit    (-1.07679 53.94355) #> 3 121273      211 Primary        Community school      (-1.129311 53.96382) #> 4 121276      308 Primary        Community school       (-1.110405 53.9411) #> 5 121277      309 Primary        Community school      (-1.075572 53.95183) #> 6 121283      423 Primary        Community school      (-1.092968 53.97109)"},{"path":"https://acteng.github.io/netgen/reference/make_elevation.html","id":null,"dir":"Reference","previous_headings":"","what":"Get elevation data — make_elevation","title":"Get elevation data — make_elevation","text":"function downloads elevation data source https://play.abstreet.org/dev/data/input/shared/elevation/UK-dem-50m-4326.tif.gz https://assets.od2net.org/input/LisboaIST_10m_4326.tif","code":""},{"path":"https://acteng.github.io/netgen/reference/make_elevation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get elevation data — make_elevation","text":"","code":"make_elevation(   url = NULL,   file = \"UK-dem-50m-4326.tif.gz\",   base_url = \"https://play.abstreet.org/dev/data/input/shared/elevation/\" )"},{"path":"https://acteng.github.io/netgen/reference/make_elevation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get elevation data — make_elevation","text":"url Full URL elevation dataset available file File name hosted known site base_url Base URL associated 'file' argument","code":""},{"path":"https://acteng.github.io/netgen/reference/make_zones.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a 'zones.geojson' file — make_zones","title":"Generate a 'zones.geojson' file — make_zones","text":"function requires zones file, e.g. \"https://raw.githubusercontent.com/nptscot/npt/main/data-raw/zones_edinburgh.geojson\" file computer. generate file input/ folder","code":""},{"path":"https://acteng.github.io/netgen/reference/make_zones.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a 'zones.geojson' file — make_zones","text":"","code":"make_zones(file)"},{"path":"https://acteng.github.io/netgen/reference/make_zones.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a 'zones.geojson' file — make_zones","text":"file Location URL zones file","code":""},{"path":"https://acteng.github.io/netgen/reference/zones_york.html","id":null,"dir":"Reference","previous_headings":"","what":"Example zones dataset: administrative zones of York — zones_york","title":"Example zones dataset: administrative zones of York — zones_york","text":"See data-raw/zones_york.qmd details data source.","code":""},{"path":"https://acteng.github.io/netgen/reference/zones_york.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example zones dataset: administrative zones of York — zones_york","text":"","code":"head(zones_york) #> Simple feature collection with 6 features and 13 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -1.143303 ymin: 53.90614 xmax: -1.075275 ymax: 53.97628 #> Geodetic CRS:  WGS 84 #>    LSOA21CD  LSOA21NM total f0_to_15 f16_to_29 f30_to_44 f45_to_64 f65_and_over #> 1 E01013335 York 012A  1626      164       115       215       202          158 #> 2 E01013336 York 012B  1545      109        75       162       221          210 #> 3 E01013337 York 012C  1651      127        98       167       236          198 #> 4 E01013338 York 012D  2358      203       194       268       300          258 #> 5 E01013339 York 012E  1602      128        91       149       246          194 #> 6 E01013340 York 024A  1275      117        53        95       217          160 #>   m0_to_15 m16_to_29 m30_to_44 m45_to_64 m65_and_over #> 1      169       151       170       180          102 #> 2      138       108       143       215          164 #> 3      151       104       175       229          166 #> 4      250       186       236       291          172 #> 5      133       109       134       251          167 #> 6      129       100        71       188          145 #>                         geometry #> 1 MULTIPOLYGON (((-1.128299 5... #> 2 MULTIPOLYGON (((-1.123884 5... #> 3 MULTIPOLYGON (((-1.133394 5... #> 4 MULTIPOLYGON (((-1.122007 5... #> 5 MULTIPOLYGON (((-1.11843 53... #> 6 MULTIPOLYGON (((-1.087652 5... sf:::plot.sfg(zones_york$geometry)"}]
